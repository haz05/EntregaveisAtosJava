<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

    <!-- (Optional) Latest compiled and minified JavaScript translation files -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/i18n/defaults-*.min.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/css/bootstrap-select.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/js/bootstrap-select.min.js"></script>

    <!-- (Optional) Latest compiled and minified JavaScript translation files -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/js/i18n/defaults-*.min.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

    <!-- (Optional) Latest compiled and minified JavaScript translation files -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/i18n/defaults-*.min.js"></script>



</head>

<body>


    <div class="w3-container">
        <div class="w3-container">
            <div class="form-row">
                <div class="form-group col-md-2">
                    <p><button onclick="document.getElementById('idCadastrar').style.display='block'"
                            (click)="limparForm(frm)" class="w3-button w3-black"
                            class="w3-button w3-blue w3-round">Cadastrar</button>
                    </p>
                </div>
                <div class="form-group col-md-2">
                    <p><button onclick="document.getElementById('idOrcamento').style.display='block'"
                            class="w3-button w3-black" class="w3-button w3-blue w3-round">Orçamento</button>
                    </p>
                </div>

            </div>

        </div>

        <table class="w3-table-all">
            <thead>
                <tr class="w3-blue">
                    <th>Código</th>
                    <th>Denominação</th>
                    <th>Preço</th>
                    <th>Atualizar</th>
                    <th>Excluir</th>
                    <th>ExcluirTeste</th>
                </tr>
            </thead>

            <tr *ngFor="let p of produtos">
                <td>{{p.codigo}}</td>
                <td>{{p.denominacao}}</td>
                <td>{{p.preco}}</td>
                <td>
                    <p><button (click)="editarProduto(p)"
                            onclick="document.getElementById('idCadastrar').style.display='block'"
                            class="w3-button w3-black" class="w3-button w3-blue w3-round">Atualizar</button>
                    </p>
                </td>
                <td>
                    <!--<p><button class="w3-button w3-blue w3-round">Excluir</button></p>-->
                    <p><button onclick="document.getElementById('idExcluir').style.display='block'"
                            class="w3-button w3-black" class="w3-button w3-blue w3-round">Excluir</button>
                    </p>
                </td>
                <td>
                    <p><button class="w3-button w3-blue w3-round" (click)="deleteProduto(p)">ExcluirTeste</button>
                    </p>
                </td>

                <div id="idExcluir" class="w3-modal">
                    <div class="w3-modal-content w3-card-4">
                        <header class="w3-container w3-blue">
                            <span onclick="document.getElementById('idExcluir').style.display='none'"
                                class="w3-button w3-display-topright">&times;</span>
                            <h2>Deseja realmente excluir esse produto?</h2>
                        </header>
                        <br>
                        <div class="form-row">
                            <div class="form-group col-md-2">
                                <p><button class="w3-button w3-blue w3-round" (click)="deleteProduto(p)">Sim</button>
                                </p>
                            </div>
                            <div class="form-group col-md-2">
                                <p> <button type="button" class="btn btn-danger" data-dismiss="modal">Fechar</button>
                                </p>
                            </div>
                        </div>
                        <footer class="w3-container w3-blue">
                            <p>A exclusão será permanente!</p>
                        </footer>
                    </div>
                </div>



                <!--
                <div class="modal fade" id="idExcluir">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">

                            
                            <div class="modal-header">
                                <span onclick="document.getElementById('idExcluir').style.display='none'"
                                    class="w3-button w3-display-topright">&times;</span>
                                <h4 class="modal-title">Modal Heading</h4>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            
                            <div class="modal-body">
                                Modal body..
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>

                        </div>
                    </div>
                </div>
             -->





                <!-- Modal -->
                <!--
                <div class="modal fade" id="idExcluir" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="idExcluir2">Modal title</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                ...
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary">Save changes</button>
                            </div>
                        </div>
                    </div>
                </div>
                -->


            </tr>
        </table>
    </div>


    <!--
    <h2>Teste</h2>
        <div *ngFor="let p of produtos">
            <h1 >{{p.id}} {{p.preco}}</h1>
        </div>
    -->
    <div id="idCadastrar" class="w3-modal">
        <div class="w3-modal-content w3-card-4">
            <header class="w3-container w3-blue">
                <span onclick="document.getElementById('idCadastrar').style.display='none'"
                    class="w3-button w3-display-topright">&times;</span>
                <h2>Cadastrar Produto</h2>
            </header>
            <div class="w3-container">
                <form method="POST" #frm="ngForm" (ngSubmit)="saveProduto(frm)" class="was-validated">
                    <div class="form-group">
                        <label for="cod">Código:</label>
                        <input type="text" class="form-control" id="cod" placeholder="Digite o código do produto"
                            name="cod" [(ngModel)]="produtoNovo.codigo" required>
                        <div class="valid-feedback">Ok.</div>
                        <div class="invalid-feedback">Por favor digite um valor.</div>
                    </div>
                    <div class="form-group">
                        <label for="desc">Descrição:</label>
                        <input type="text" class="form-control" id="desc" placeholder="Digite a descrição do produto"
                            name="desc" [(ngModel)]="produtoNovo.denominacao" required>
                        <div class="valid-feedback">Ok.</div>
                        <div class="invalid-feedback">Por favor digite um valor.</div>
                    </div>
                    <div class="form-group">
                        <label for="pr">Preço:</label>
                        <input type="number" step="0.01" min="0" class="form-control" decimalSeparator="." id="pr"
                            placeholder="Digite o preço do produto" name="pr" [(ngModel)]="produtoNovo.preco" required>
                        <div class="valid-feedback">Ok.</div>
                        <div class="invalid-feedback">Por favor digite um valor.</div>
                    </div>

                    <button type="submit" class="btn btn-primary" [disabled]="frm.invalid">Salvar</button>
                </form>
                <br>
            </div>
            <footer class="w3-container w3-blue">
                <p hidden>a</p>
            </footer>
        </div>
    </div>

    <div id="idOrcamento" class="w3-modal">
        <div class="w3-modal-content w3-card-4">
            <header class="w3-container w3-blue">
                <span onclick="document.getElementById('idOrcamento').style.display='none'"
                    class="w3-button w3-display-topright">&times;</span>
                <h2>Escolha os produtos para o orçamento.</h2>
            </header>
            
            <br>
            
            <div class="w3-container">
                <form method="POST" #frmorcam="ngForm" (ngSubmit)="orcamentoProduto(frmorcam)" class="was-validated">
                    <div class="form-group">
                        <ng-multiselect-dropdown [placeholder]="'Selecione os produtos para o orçamento'" [settings]="dropdownSettings"
                            [data]="produtos" name="select" [(ngModel)]="selectedItems" (onSelect)="onItemSelect($event)"
                            (onSelectAll)="onSelectAll($event)">
                         </ng-multiselect-dropdown>  
                    </div>
                    <button type="submit" class="btn btn-primary">Gerar</button>
                </form>
                <br>
                <label>Somatorio do serviço:</label>
                <label>{{produtoNovo.soma}}</label>
                <br>
            </div>
            <footer class="w3-container w3-blue">
                <p hidden>a</p>
            </footer>
        </div>
    </div>

    <!--
        <div id="idOrcamento" class="w3-modal">
        <div class="w3-modal-content w3-card-4">
            <header class="w3-container w3-blue">
                <span onclick="document.getElementById('idOrcamento').style.display='none'"
                    class="w3-button w3-display-topright">&times;</span>
                <h2>Escolha os produtos para o orçamento.</h2>
            </header>
            <br>
            <div class="w3-container">
                <form method="POST" #frm="ngForm" (ngSubmit)="orcamentoProduto(frm)" class="was-validated">
                    <div class="form-group">
                        <select class="custom-select" type="number" id="basic" name="select"
                            [(ngModel)]="produtoNovo.preco" multiple="multiple">
                            <option *ngFor="let p of produtos" [ngValue]="p.preco">{{p.denominacao}}</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Gerar</button>
                </form>
                <br>
                <label>Somatorio do serviço:</label>
                <label>{{produtoNovo.soma}}</label>
                <br>
            </div>
            <footer class="w3-container w3-blue">
                <p hidden>a</p>
            </footer>
        </div>
    </div>
    -->


</body>

</html>
<script type="text/javascript">
    //$('.selectpicker').selectpicker('refresh');
    $('select').selectpicker();
    //jQuery(".selectpicker").selectpicker();
</script>